"use strict";var app=app||{};!function(){$("#join").on("click",function(a){var b=$("#info").attr("data-id");return $.ajax("/competitions/"+b+"/join",{method:"PUT"}).done(function(a){var b=a.result.username,d=(a.result.points,$("#joined-users").find("thead")),e=$("<tr>").appendTo(d),f=$("<td>").appendTo(e);$("<a>").attr("href","/users/"+b).addClass("title").html(b).appendTo(f),app.notifier.showNotification("You joined this competition","success"),$("#leave").removeClass("hidden"),$("#join").addClass("hidden")}).fail(function(a){app.notifier.showNotification(a.message,"error")}),a.preventDefault(),!1}),$("#leave").on("click",function(a){var b=$("#info").attr("data-id");return $.ajax("/competitions/"+b+"/leave",{method:"PUT"}).done(function(a){$("tr:contains("+a.username+")").remove(),$("#leave").addClass("hidden"),$("#join").removeClass("hidden"),app.notifier.showNotification("You left this competition!","success")}).fail(function(a){app.notifier.showNotification(a.message,"error")}),a.preventDefault(),!1})}();