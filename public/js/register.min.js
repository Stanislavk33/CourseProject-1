"use strict";var app=app||{};$("#btn-register").on("click",function(a){a.preventDefault();var d,e,f,g,h,b=new RegExp(/^[a-zA-Z0-9]{6,50}$/),c=new RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),i=$("#tb-username").val(),j=$("#tb-email").val(),k=$("#tb-password").val(),l=$("#tb-confirm-password").val(),m=$("#tb-datepicker").val(),n=$("#tb-first-name").val(),o=$("#tb-last-name").val(),p=$("#tb-avatar")[0].files[0];if(d=b.test(i),e=b.test(n),f=b.test(o),h=b.test(k)&&b.test(l),g=c.test(j),!d)return void app.notifier.showNotification("Username must contain only letters, numbers and must be between 6 and 50 symbols long","error");if(!g)return void app.notifier.showNotification("Email is not correct","error");if(k!==l)return void app.notifier.showNotification("Password doesnt match!","error");if(!h)return void app.notifier.showNotification("Password must contain only letters, numbers and must be between 6 and 50 symbols long","error");if(!e)return void app.notifier.showNotification("First name must contain only letters, numbers and must be between 6 and 50 symbols long","error");if(!f)return void app.notifier.showNotification("Last name must contain only letters, numbers and must be between 6 and 50 symbols long","error");var q=new FormData;q.append("avatar",p),q.append("username",i),q.append("password",k),q.append("email",j),q.append("firstName",n),q.append("lastName",o),q.append("birthDate",m),app.requester.postWithFile("/auth/register",q).then(function(a){if(a.success)app.notifier.showNotification(a.success,"success"),setTimeout(function(){window.location.href="/auth/login"},500);else if(a.error)return void app.notifier.showNotification(a.error,"error")}).catch(function(a){ app.notifier.showNotification("Registration failed", "error")})});